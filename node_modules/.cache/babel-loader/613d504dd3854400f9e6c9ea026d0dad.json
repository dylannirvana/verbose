{"ast":null,"code":"/**\n * matchesSelector v1.0.3\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n/*global define: false, module: false */\n(function (ElemProto) {\n  'use strict';\n\n  var matchesMethod = function () {\n    // check for the standard method name first\n    if (ElemProto.matches) {\n      return 'matches';\n    } // check un-prefixed\n\n\n    if (ElemProto.matchesSelector) {\n      return 'matchesSelector';\n    } // check vendor prefixes\n\n\n    var prefixes = ['webkit', 'moz', 'ms', 'o'];\n\n    for (var i = 0, len = prefixes.length; i < len; i++) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n\n      if (ElemProto[method]) {\n        return method;\n      }\n    }\n  }(); // ----- match ----- //\n\n\n  function match(elem, selector) {\n    return elem[matchesMethod](selector);\n  } // ----- appendToFragment ----- //\n\n\n  function checkParent(elem) {\n    // not needed if already has parent\n    if (elem.parentNode) {\n      return;\n    }\n\n    var fragment = document.createDocumentFragment();\n    fragment.appendChild(elem);\n  } // ----- query ----- //\n  // fall back to using QSA\n  // thx @jonathantneal https://gist.github.com/3062955\n\n\n  function query(elem, selector) {\n    // append to fragment if no parent\n    checkParent(elem); // match elem with all selected elems of parent\n\n    var elems = elem.parentNode.querySelectorAll(selector);\n\n    for (var i = 0, len = elems.length; i < len; i++) {\n      // return true if match\n      if (elems[i] === elem) {\n        return true;\n      }\n    } // otherwise return false\n\n\n    return false;\n  } // ----- matchChild ----- //\n\n\n  function matchChild(elem, selector) {\n    checkParent(elem);\n    return match(elem, selector);\n  } // ----- matchesSelector ----- //\n\n\n  var matchesSelector;\n\n  if (matchesMethod) {\n    // IE9 supports matchesSelector, but doesn't work on orphaned elems\n    // check for that\n    var div = document.createElement('div');\n    var supportsOrphans = match(div, 'div');\n    matchesSelector = supportsOrphans ? match : matchChild;\n  } else {\n    matchesSelector = query;\n  } // transport\n\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD\n    define(function () {\n      return matchesSelector;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = matchesSelector;\n  } else {\n    // browser global\n    window.matchesSelector = matchesSelector;\n  }\n})(Element.prototype);","map":null,"metadata":{},"sourceType":"script"}